# Markdown 导出格式说明

## 问题
之前导出的 Markdown 文件包含 LaTeX 数学公式（如 `$$ S $$`），在普通文本编辑器中显示为乱码或无法正确渲染。

## 解决方案
现在提供两种导出格式：

### 1. 纯文本格式（推荐）✅
- 将 LaTeX 公式转换为 Unicode 数学符号
- 可在任何文本编辑器中正常查看（记事本、VS Code、Typora 等）
- 无需安装任何插件

**示例转换：**
- `$$ S $$` → `S`
- `$$ N = \frac{S + M}{2} $$` → `N = (S + M)/(2)`
- `$$ \alpha + \beta $$` → `α + β`
- `$$ x^{2} + y^{2} = r^{2} $$` → `x^(2) + y^(2) = r^(2)`
- `$$ \sum_{i=1}^{n} $$` → `Σ_(i=1)^(n)`
- `$$ \sqrt{a} $$` → `√(a)`

**支持的符号转换：**
- 运算符：`\times` → `×`, `\div` → `÷`, `\pm` → `±`
- 关系符：`\leq` → `≤`, `\geq` → `≥`, `\neq` → `≠`, `\approx` → `≈`
- 希腊字母：`\alpha` → `α`, `\beta` → `β`, `\gamma` → `γ`, `\delta` → `δ`, `\pi` → `π`, `\theta` → `θ`
- 特殊符号：`\infty` → `∞`, `\sum` → `Σ`, `\prod` → `Π`, `\sqrt` → `√`

### 2. LaTeX 格式
- 保留原始 LaTeX 公式语法
- 需要使用支持 LaTeX 的 Markdown 编辑器（如 Typora、VS Code + Markdown 插件、Obsidian 等）
- 适合需要二次编辑或发布到支持 LaTeX 的平台

## 使用方法

1. 点击「导出 Markdown」按钮
2. 选择导出格式：
   - **纯文本格式**：适合快速查看和分享
   - **LaTeX 格式**：适合专业编辑和发布

## 示例对比

### 原始内容（AI 生成）
```
第二步：制定策略
设不考虑对称性的染色方法总数为 $$ S $$，其中左右对称（回文）的染色方法数为 $$ M $$。
根据对称性去重公式，本质不同的染法数 $$ N $$ 为：
$$ N = \frac{S + M}{2} $$
```

### 纯文本格式导出
```
第二步：制定策略
设不考虑对称性的染色方法总数为 S，其中左右对称（回文）的染色方法数为 M。
根据对称性去重公式，本质不同的染法数 N 为：

    N = (S + M)/(2)
```

### LaTeX 格式导出
```
第二步：制定策略
设不考虑对称性的染色方法总数为 $$ S $$，其中左右对称（回文）的染色方法数为 $$ M $$。
根据对称性去重公式，本质不同的染法数 $$ N $$ 为：
$$ N = \frac{S + M}{2} $$
```

## 注意事项

1. **纯文本格式**的转换可能不完美，复杂公式建议使用 LaTeX 格式
2. 行内公式 `$ ... $` 和块级公式 `$$ ... $$` 都会被正确处理
3. 纯文本格式会在文档开头添加说明，表明是纯文本版本
4. PDF 导出已支持中文，使用 html2canvas 渲染，无需担心乱码问题

## 技术细节

转换函数位于 `SolutionsArea.tsx`：
```typescript
function convertLatexToPlainText(text: string): string {
  // 处理行内公式 $...$
  // 处理块级公式 $$...$$
  // 转换 LaTeX 命令为 Unicode 符号
}
```

支持的 LaTeX 命令包括：
- 分数：`\frac{a}{b}` → `(a)/(b)`
- 上标：`x^{2}` → `x^(2)`
- 下标：`x_{1}` → `x_(1)`
- 根号：`\sqrt{x}` → `√(x)`
- 希腊字母、运算符、关系符等
